<template id="textInputTemplate">
  <style>
  </style>
  <label for=""></label>
  <input type="text" name="" id="" aria-required="false" aria-disabled="false" aria-invalid="false" aria-describedby="" />
</template>
<script>
  (function (doc) { // var doc = document.currentScript.ownerDocument;
    var proto = Object.create(HTMLElement.prototype),
        xComponent;
    function completeFormElements(component, clone) {
        //console.log(component);
        var labelText = component.getAttribute('label'),
            required = component.getAttribute('required'),
            forId = component.getAttribute('for'),
            cloneLabel = clone.querySelector('label'),
            cloneInput = clone.querySelector('input'),
        cloneLabel.textContent = labelText;
        cloneLabel.setAttribute("for", forId);
        cloneInput.id = forId;
        if (required) {
          cloneInput.setAttribute("aria-required", required);
        }
    }
    proto.createdCallback = function () {
      var root = this.createShadowRoot(),
          template = doc.querySelector("#textInputTemplate"),
          clone = document.importNode(template.content, true);
          completeFormElements(this, clone);
      root.appendChild(clone);
    }
    xComponent = document.registerElement('input-text-component', {
      prototype: proto
    });
  }(document.currentScript.ownerDocument));
</script>

